# ServiceTestingDashboard 功能说明

## 概述

ServiceTestingDashboard 是一个综合性的服务测试平台，支持多种文件处理和AI分析功能。

## 新增功能

### 1. PDF文本提取功能

#### 支持的提取方法：
- **PDF.js (默认)**：使用PDF.js库进行文本提取
- **React-PDFToText**：使用react-pdftotext库进行文本提取

#### 功能特点：
- 支持拖拽上传PDF文件
- 实时显示提取进度
- 提取结果包含文件信息和处理时间
- 支持复制和下载提取的文本

### 2. 图片OCR提取功能

#### 技术实现：
- 使用 **Tesseract.js** 进行OCR文字识别
- 支持中英文混合识别
- 显示识别置信度
- **智能文本优化**：自动清理多余空格、修复OCR错误

#### 支持的文件格式：
- PNG
- JPG/JPEG
- WebP

#### 功能特点：
- 自动识别图片中的文字内容
- 显示处理时间和置信度
- 支持批量处理
- 实时进度显示
- **智能文本优化**：
  - **保守模式**：仅清理多余空格，完整保留原文结构和换行
  - **标准模式**：清理多余空格、修复OCR错误、优化格式
  - **关闭优化**：保持原始提取结果

### 3. 优化的用户界面

#### 布局改进：
- 左侧服务选择面板，支持图标和描述
- 中间文件上传区域，支持方法选择
- 右侧结果展示区域，支持多种结果类型

#### 交互优化：
- 拖拽上传支持
- 实时状态反馈
- 结果统计信息
- 一键复制和下载

## 使用方法

### PDF提取
1. 选择"PDF文本提取"服务
2. 选择提取方法（PDF.js 或 React-PDFToText）
3. 拖拽或点击上传PDF文件
4. 等待提取完成，查看结果

### 图片OCR
1. 选择"图片OCR提取"服务
2. 选择是否启用文本优化（推荐开启）
3. 如果启用优化，可选择：
   - **保守模式**：保留原文结构，仅清理空格（推荐用于岗位描述等结构化文本）
   - **标准模式**：全面优化，修复OCR错误
4. 拖拽或点击上传图片文件
5. 等待OCR处理完成
6. 查看识别结果和置信度

### LLM分析
1. 选择"LLM简历分析"或"自定义测试"
2. 配置评估模式（温柔/严苛）
3. 输入自定义内容（可选）
4. 启动分析，查看结果

## 技术架构

### 依赖库
- `react-pdftotext`：PDF文本提取
- `tesseract.js`：OCR文字识别
- `pdfjs-dist`：PDF.js库（原有功能）

### 组件结构
```
ServiceTestingDashboard/
├── components/
│   ├── FileUploadArea.tsx      # 文件上传组件
│   ├── ServiceSelector.tsx     # 服务选择组件
│   ├── TestResultsPanel.tsx    # 结果展示组件
│   └── ...
├── hooks/
│   ├── usePDFExtraction.ts     # 文件提取逻辑
│   └── ...
├── utils/
│   ├── fileUtils.ts           # 文件处理工具
│   └── constants.ts           # 常量定义
└── types/
    └── index.ts               # 类型定义
```

## 注意事项

1. **图片OCR处理时间**：OCR处理需要较长时间，请耐心等待
2. **文件大小限制**：建议上传文件大小不超过10MB
3. **浏览器兼容性**：需要现代浏览器支持
4. **网络要求**：OCR功能需要下载语言包，首次使用可能较慢

## 故障排除

### 常见问题
1. **PDF提取失败**：检查PDF是否为扫描版，尝试不同的提取方法
2. **OCR识别率低**：确保图片清晰，文字对比度足够
3. **上传失败**：检查文件格式和大小是否符合要求
4. **React-PDFToText错误**：确保使用正确的导入方式，已修复导入问题
5. **OCR文本格式问题**：
   - 对于岗位描述等结构化文本，建议使用**保守模式**
   - 保守模式会保留原文的换行和结构，仅清理多余空格
   - 标准模式会进行更全面的优化，但可能改变原文结构

### 性能优化
- 大文件建议分批处理
- OCR处理时避免同时进行其他操作
- 定期清理浏览器缓存
